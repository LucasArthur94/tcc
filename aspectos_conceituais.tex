\chapter{Aspectos Conceituais}\label{chap:aspectos-conceituais}
Neste capítulo, serão abordados os principais conceitos relacionados à parte teórica do trabalho, que relacionam as mais diversas etapas de concepção de um sistema, como a representação dos requisitos envolvidos, a engenharia por detrás desses requisitos e a conformidade do que está sendo desenvolvido, por meio da verificação e validação.

\section{Representação de Requisitos}
Ao se desenvolver um sistema, existem diversas técnicas que podem ser usadas para representar os requisitos. Para este trabalho, duas técnicas foram consideradas: Histórias de Usuário e Casos de Uso.

\subsection{Histórias de Usuário}
Uma das abordagens possíveis para se representar os requisitos é o uso de História de Usuário (ou \textit{User Story}):\cite{jonathanrasmusson}:

\begin{citacaoLonga}
Descrições curtas das funcionalidades que o nosso cliente
gostaria de um dia ver em seu software. Elas geralmente são escritas em pequenos cartões de índice (para nos lembrar de não tentar escrever tudo) e estão lá para nos encorajar a ir falar com nossos clientes.
\end{citacaoLonga}

O essencial em escrever boas histórias de usuário está em agregar valor para os \textit{stakeholders}. Ou seja, escrever histórias de usuário que tangem assuntos como arquitetura do sistema, linguagem de implementação, padrões de código entre outros não são boas histórias de usuário, pois salvo exceções, o cliente não vê valor em histórias desse tipo\cite{jonathanrasmusson}.

Em contrapartida, histórias sobre o comportamento do sistema com valor de produto nelas são histórias de usuário importantes para o processo de desenvolvimento. Muitas vezes, porém, histórias de usuário forçam um viés altamente técnico; nessas situações, cabe buscar a causa raiz que levou à "solução" escrita na história: histórias de usuário apresentam problemas de negócio, e não soluções técnicas.

Um padrão para escrever histórias de usuário\cite{jonathanrasmusson}:

\begin{citacaoLonga}
Eu como $<$para quem é a história$>$
\\
Eu quero $<$o que ele quer$>$
\\
por causa $<$por que ele quer$>$
\end{citacaoLonga}

A vantagem de escrever histórias segundo esse modelo é que, naturalmente, elas atendem as características que definem Histórias de Usuário\cite{jonathanrasmusson}:

\begin{itemize}
    \item Independentes: elas podem ser implementadas de maneira isolada e distribuída entre a equipe, permitindo maior facilidade para mudanças no projeto (que ocorrem com frequência).
    \item Negociáveis: podem sofrer alterações e inclusive serem removidas se, com o andamento do projeto, ela perder sua prioridade e tais alterações e remoções não devem afetar o andar geral das outras tarefas.
    \item Testáveis: cada história pode ser verificada testando o fluxo de negócio e com a escrita de testes automatizados, assim garantimos com facilidade a qualidade do que está sendo entregue
    \item Pequenas e Estimáveis: o esforço dela pode ser previsto com antecedência, permitindo assim acompanhar o andamento do projeto.
\end{itemize}

\subsection{Casos de Uso}
Outra alternativa para documentar o que será desenvolvido no sistema são os casos de uso. Essencialmente, cada caso de uso possui um ou mais atores interagindo com o sistema. Segundo \cite[cap. ~1, p. ~20]{kurtbittnerianspence2002}: "Os \textbf{atores} representam as pessoas ou coisas que interagem de alguma forma com o sistema. Já os \textbf{casos de uso} representam as coisas de valor que o sistema executa para os atores.

Para escrever casos de uso, há diversas estruturas prontas disponíveis na literatura. Uma estrutura de caso de uso de exemplo, usada no projeto\cite{ibm2011}:

\begin{enumerate}
    \item Nome: nome do Caso de Uso
    \begin{enumerate}
        \item Breve Descrição: finalidade do caso de uso
    \end{enumerate}
    \item Fluxo de Eventos: a descrição dos eventos que ocorrem no sistema, que são divididos em dois conjuntos principais.
    \begin{enumerate}
        \item Fluxo Básico: é o comportamento básico da interação entre os atores e o sistema. Não há situações de contorno nem exceções, que serão listadas nos fluxos alternativos.
        \item Fluxos Alternativos: outros comportamentos menos usuais do caso de uso vêm aqui.
    \end{enumerate}
    \item Requisitos Especiais: requisito, não funcional, que não é contemplado no fluxo de eventos.
    \item Pré-condição: estado do sistema antes da realização do caso de uso.
    \item Pós-condição: estado do sistema após a execução.
\end{enumerate}

Resumindo, o caso de uso é uma descrição comportamental da funcionalidade descrita, servindo de contrato estabelecido de desenvolvimento do sistema.

\section{Requisitos}
Os requisitos são responsáveis pelo funcionamento do software a ser desenvolvido, alinhando as expectativas dos interessados com o futuro projeto. Para encontrar esses requisitos, existe um  exemplo de processo definido básico, definido em \cite{kurtbittnerianspence2002}:

\begin{itemize}
    \item Definição dos \textit{stakeholders}: Encontrar todos que são afetados pelo sistema.
    \item Entendimento dos Problemas: Técnicas para consultar os \textit{stakeholders} sobre o que eles esperam que o sistema resolva e como sua existência afeta o dia-a-dia deles.
    \item Documento Visão: Unificação do entendimento do sistema, que serve como base para estabelecer o que será de fato o sistema.
\end{itemize}

\subsection{\textit{Stakeholders}}
Inicialmente, para melhor entender quem será afetado com a existência de um sistema, é necessário encontrar quem são essas pessoas ou grupos. Para isso, existe o conceito de \textit{stakeholders}. Segundo \cite[cap. ~3, p. ~88]{kurtbittnerianspence2002}, a definição traduzida de \textit{stakeholder}: "Um indivíduo que é materialmente afetado pelo resultado do sistema ou o(s) projeto(s) que produzem o sistema."

Ou seja, \textit{stakeholders} não são apenas os indivíduos que efetivamente usarão o sistema, mas sim todos os impactados com sua existência. Eles são divididos em 5 grupos:

\begin{itemize}
    \item Usuários: as pessoas que efetivamente usarão o sistema.
    \item Patrocinadores: os financiadores do projeto de software que gerará o sistema.
    \item Desenvolvedores: os responsáveis por desenvolver o sistema.
    \item Autoridades: órgãos reguladores que determinam regras para o uso do sistema.
    \item Consumidores: empresas que compram esses softwares para serem usados.
\end{itemize}

\subsection{Entendimento dos Problemas}

Uma vez mapeado os \textit{stakeholders}, cabe entender as dores que cada um possui e o que eles esperam com o produto final a ser desenvolvido. Alguns processos sugeridos\cite{kurtbittnerianspence2002}:

\begin{itemize}
    \item Entrevistas: entrevistar os \textit{stakeholders} e entender diretamente quais são suas dores e expectativas.
    \item Questionários: sequência de perguntas feitas à todos os \textit{stakeholders} para compreender o que cada um pensa sobre o sistema. São úteis quando há um amplo número de \textit{stakeholders} envolvidos.
    \item Grupo Focal: reunião com alguns representantes dos grupos de \textit{stakeholders} para entender e construir uma visão única sobre o projeto.
    \item Quadros de Aviso: um tipo particular de grupo focal, com o quadro servindo como unificador da visão, com a diferença de não ter todos reunidos ao mesmo tempo.
    \item \textit{Workshops}: eventos avisados com antecedência para entender melhor sobre o sistema, com a participação dos envolvidos, focando na colaboração entre eles.
    \item Revisões: reuniões informais com o intuito de revisar documentos gerados com alguns envolvidos.
    \item Encenação: uma técnica facilitadora usada em conjunto com \textit{workshops} para obter informações mais específicas ou \textit{feedbacks}.
\end{itemize}

Com essa listagem de problemas levantados, o próximo passo é construir a visão unificada do processo como um todo, evidenciando como o software vai atuar no processo. Para isso, há a elaboração de um documento unificando os pontos de vista dos \textit{stakeholders} e estabelecendo o que de fato será o sistema a ser desenvolvido, resultando no Documento Visão.

\subsection{Documento Visão}
O Documento Visão é o responsável por unificar as visões de todos os \textit{stakeholders} do sistema, centralizando todas as expectativas e definindo o escopo macro do projeto. Nele também deve constar as justificativas necessárias para a construção do sistema, explicitando possíveis concorrentes e os diferenciais do produto a ser desenvolvido.

Existem diversos modelos de Documento Visão. Um modelo de referência\cite[cap. ~3, p. ~135-136]{kurtbittnerianspence2002}:

\begin{enumerate}
    \item Posicionamento: Como o sistema irá se posicionar no quesito de negócios? Há concorrentes que já resolvem o problema? Quais são seus diferenciais em relação a eles?
    \item \textit{Stakeholders} e usuários: Quem são os envolvidos direta e indiretamente com o desenvolvimento e a existência do sistema?
    \item Necessidades chave: Quais são as demandas que realmente precisam estar nos planos do sistema para satisfazer os envolvidos?
    \item Visão geral do produto: O que é o produto de fato? Quais são suas dependências, capacidades e alternativas ao seu desenvolvimento?
    \item Funcionalidades: Quais são as funcionalidades em alto nível do sistema, para que elas resolvam as necessidades chave listadas anteriormente?
    \item Outros requisitos do produto: Quais são os outros requisitos do sistema que não foram capturados como funcionalidades?
\end{enumerate}

\section{Verificação e Validação}
Durante o desenvolvimento, faz parte do processo garantir a qualidade do que está sendo entregue. Para isso, existem os processos de verificação e validação (SWEBOK)\cite[cap.~10, p.~6]{ieeecomputersociety2014}: "Ajudar a equipe de desenvolvimento a garantir qualidade no sistema por todo seu ciclo de vida."

Ao se desenvolver um software, é uma boa prática acompanhar se os requisitos funcionais e não funcionais estão sendo atendidos, de preferência com acompanhamento das métricas determinadas nos requisitos. Essa prática é conhecida como verificação, definida de maneira resumida pela seguinte pergunta\cite[cap. ~10, p. ~6]{ieeecomputersociety2014}: "Estamos construindo o produto corretamente?"

Além de acompanhar os requisitos propostos, é importante entender se o sistema está de acordo com as expectativas operacionais dos \textit{stakeholders}. Essa análise constante de adequação voltada aos negócios é conhecida como validação, definida pela seguinte questão\cite[cap. ~10, p. ~6]{ieeecomputersociety2014}: "Estamos construindo o produto correto?"

\subsection{Testes}
Em ambos os casos descritos acima, precisamos de técnicas para detectar erros e manter a consistência do que já foi entregue. Para isso, existe o conceito de testes\cite[cap. ~4, p. ~1]{ieeecomputersociety2014}:

\begin{citacaoLonga}
Consiste na verificação dinâmica de que um programa fornece comportamentos esperados em um conjunto finito de casos de teste, selecionados adequadamente a partir do domínio de execução, geralmente infinito.
\end{citacaoLonga}

Na escala macroscópica, há os testes de aceitação junto aos \textit{stakeholders}, para validar as entregas. Já para testar a arquitetura, costumam ser realizados testes de sistema. Para testar os componentes desenvolvidos do sistema, realizam-se testes de integração entre esses componentes. E, por fim, o código escrito para cada componente elaborado é testado pelos testes de unidade.

Ao desenvolver um sistema, uma boa prática é executar a suíte de testes construída a cada nova funcionalidade adicionada e/ou modificada, pois assim é possível manter a qualidade do que já foi entregue, detectando erros causados por essas modificações. Para auxiliar nessa boa prática, em especial para os testes de menor complexidade, uma solução é automatizar a execução deles, o que economiza tempo de uma pessoa dedicada à função de testador.
